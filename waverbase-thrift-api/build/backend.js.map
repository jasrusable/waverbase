{"version":3,"sources":["webpack:///webpack/bootstrap 87823ce8d214bb188846","webpack:///external \"babel-polyfill\"","webpack:///./src/main.js","webpack:///external \"thrift\"","webpack:///external \"mongodb\"","webpack:///external \"winston\"","webpack:///external \"co\"","webpack:///external \"password-hash-and-salt\"","webpack:///external \"validate.js\"","webpack:///./gen-nodejs/Waverbase.js","webpack:///./gen-nodejs/waverbase_types.js","webpack:///external \"es6-promisify\""],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oEAAmE,gBAAgB;AACnF;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,oEAAmE,gBAAgB;AACnF;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;;ACnbA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9VA,2C","file":"backend.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 87823ce8d214bb188846\n **/","module.exports = require(\"babel-polyfill\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-polyfill\"\n ** module id = 1\n ** module chunks = 0\n **/","import thrift from 'thrift';\nimport { MongoClient, } from 'mongodb';\nimport winston from 'winston';\nimport co from 'co';\nimport passwordUtil from 'password-hash-and-salt';\nimport validate from 'validate.js'\nimport Waverbase from '../gen-nodejs/Waverbase.js';\nimport promisify from 'es6-promisify';\nimport { User, DuplicateUsernameError, SignUpValidationError} from '../gen-nodejs/waverbase_types.js';\n\nconst URL = 'mongodb://localhost:27017/db';\nconst PORT = 9099;\n\nvar signUpConstraints = {\n  username: {\n    presence: true,\n  },\n}\n\nfunction toIdentityObject(...args) {\n  const object = {};\n  for (element in args) {\n    object[element] = element;\n  }\n  return object;\n}\n\nconst waverbaseHandler = {\n  signUp: co.wrap(function* (username, password, result) {\n    winston.info('Sign up attempt', username);\n    const validationResults = validate(\n      toIdentityObject(username, password),\n      signUpConstraints\n    );\n    if (validationResults != null) {\n      result(new SignUpValidationError({\n        errorMessage: JSON.stringify(validationResults),\n      }));\n      return;\n    }\n    console.log('ehl');\n\n    var db = yield MongoClient.connect(URL);\n    var collection = yield db.createCollection('users');\n    var count = yield db.collection('users').count({username: username});\n    if (count > 0) {\n      result(new DuplicateUsernameError({\n        errorMessage: `User with username ${username} already exists.`,\n      }));\n      return;\n    }\n    var user = new User({username: username});\n    const passwordHash = yield promisify(passwordUtil(password).hash)();\n    yield collection.insert({username: username, passwordHash: passwordHash});\n    result(null, user);\n  }).catch(function(err) {console.log(err.stack)}),\n\n\n  signIn: function(username, password, result) {\n    winston.info('Sign in attempt', username);\n    const user = new User({username: username});\n    const auth = new Auth({\n      user: new User({username: username}),\n      token: 'hello',\n    })\n    console.log(auth);\n    result(null, auth);\n  },\n}\n\nvar waverbaseServiceOptions = {\n  transport: thrift.TBufferedTransport,\n  protocol: thrift.TJSONProtocol,\n  processor: Waverbase,\n  handler: waverbaseHandler,\n};\n\nvar serverOptions = {\n  // Include CORS header to accept any origin.\n  cors: {'*': true},\n  services: {\n    \"/waverbase\": waverbaseServiceOptions\n  },\n}\n\nvar server = thrift.createWebServer(serverOptions);\nserver.listen(PORT);\nwinston.info('Thrift server running on port', PORT);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","module.exports = require(\"thrift\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"thrift\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"mongodb\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"mongodb\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"winston\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"winston\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"co\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"co\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"password-hash-and-salt\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"password-hash-and-salt\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"validate.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"validate.js\"\n ** module id = 8\n ** module chunks = 0\n **/","//\n// Autogenerated by Thrift Compiler (0.9.1)\n//\n// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING\n//\nvar Thrift = require('thrift').Thrift;\n\nvar ttypes = require('./waverbase_types');\n//HELPER FUNCTIONS AND STRUCTURES\n\nWaverbase_signUp_args = function(args) {\n  this.username = null;\n  this.password = null;\n  if (args) {\n    if (args.username !== undefined) {\n      this.username = args.username;\n    }\n    if (args.password !== undefined) {\n      this.password = args.password;\n    }\n  }\n};\nWaverbase_signUp_args.prototype = {};\nWaverbase_signUp_args.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRING) {\n        this.username = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 2:\n      if (ftype == Thrift.Type.STRING) {\n        this.password = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nWaverbase_signUp_args.prototype.write = function(output) {\n  output.writeStructBegin('Waverbase_signUp_args');\n  if (this.username !== null && this.username !== undefined) {\n    output.writeFieldBegin('username', Thrift.Type.STRING, 1);\n    output.writeString(this.username);\n    output.writeFieldEnd();\n  }\n  if (this.password !== null && this.password !== undefined) {\n    output.writeFieldBegin('password', Thrift.Type.STRING, 2);\n    output.writeString(this.password);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nWaverbase_signUp_result = function(args) {\n  this.success = null;\n  this.duplicateUsernameError = null;\n  this.signUpValidationError = null;\n  if (args instanceof ttypes.DuplicateUsernameError) {\n    this.duplicateUsernameError = args;\n    return;\n  }\n  if (args instanceof ttypes.SignUpValidationError) {\n    this.signUpValidationError = args;\n    return;\n  }\n  if (args) {\n    if (args.success !== undefined) {\n      this.success = args.success;\n    }\n    if (args.duplicateUsernameError !== undefined) {\n      this.duplicateUsernameError = args.duplicateUsernameError;\n    }\n    if (args.signUpValidationError !== undefined) {\n      this.signUpValidationError = args.signUpValidationError;\n    }\n  }\n};\nWaverbase_signUp_result.prototype = {};\nWaverbase_signUp_result.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 0:\n      if (ftype == Thrift.Type.STRUCT) {\n        this.success = new ttypes.User();\n        this.success.read(input);\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 1:\n      if (ftype == Thrift.Type.STRUCT) {\n        this.duplicateUsernameError = new ttypes.DuplicateUsernameError();\n        this.duplicateUsernameError.read(input);\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 2:\n      if (ftype == Thrift.Type.STRUCT) {\n        this.signUpValidationError = new ttypes.SignUpValidationError();\n        this.signUpValidationError.read(input);\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nWaverbase_signUp_result.prototype.write = function(output) {\n  output.writeStructBegin('Waverbase_signUp_result');\n  if (this.success !== null && this.success !== undefined) {\n    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);\n    this.success.write(output);\n    output.writeFieldEnd();\n  }\n  if (this.duplicateUsernameError !== null && this.duplicateUsernameError !== undefined) {\n    output.writeFieldBegin('duplicateUsernameError', Thrift.Type.STRUCT, 1);\n    this.duplicateUsernameError.write(output);\n    output.writeFieldEnd();\n  }\n  if (this.signUpValidationError !== null && this.signUpValidationError !== undefined) {\n    output.writeFieldBegin('signUpValidationError', Thrift.Type.STRUCT, 2);\n    this.signUpValidationError.write(output);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nWaverbase_signIn_args = function(args) {\n  this.username = null;\n  this.password = null;\n  if (args) {\n    if (args.username !== undefined) {\n      this.username = args.username;\n    }\n    if (args.password !== undefined) {\n      this.password = args.password;\n    }\n  }\n};\nWaverbase_signIn_args.prototype = {};\nWaverbase_signIn_args.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRING) {\n        this.username = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 2:\n      if (ftype == Thrift.Type.STRING) {\n        this.password = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nWaverbase_signIn_args.prototype.write = function(output) {\n  output.writeStructBegin('Waverbase_signIn_args');\n  if (this.username !== null && this.username !== undefined) {\n    output.writeFieldBegin('username', Thrift.Type.STRING, 1);\n    output.writeString(this.username);\n    output.writeFieldEnd();\n  }\n  if (this.password !== null && this.password !== undefined) {\n    output.writeFieldBegin('password', Thrift.Type.STRING, 2);\n    output.writeString(this.password);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nWaverbase_signIn_result = function(args) {\n  this.success = null;\n  this.e = null;\n  if (args instanceof ttypes.NotAuthorisedError) {\n    this.e = args;\n    return;\n  }\n  if (args) {\n    if (args.success !== undefined) {\n      this.success = args.success;\n    }\n    if (args.e !== undefined) {\n      this.e = args.e;\n    }\n  }\n};\nWaverbase_signIn_result.prototype = {};\nWaverbase_signIn_result.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 0:\n      if (ftype == Thrift.Type.STRUCT) {\n        this.success = new ttypes.Auth();\n        this.success.read(input);\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 1:\n      if (ftype == Thrift.Type.STRUCT) {\n        this.e = new ttypes.NotAuthorisedError();\n        this.e.read(input);\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nWaverbase_signIn_result.prototype.write = function(output) {\n  output.writeStructBegin('Waverbase_signIn_result');\n  if (this.success !== null && this.success !== undefined) {\n    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);\n    this.success.write(output);\n    output.writeFieldEnd();\n  }\n  if (this.e !== null && this.e !== undefined) {\n    output.writeFieldBegin('e', Thrift.Type.STRUCT, 1);\n    this.e.write(output);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nWaverbaseClient = exports.Client = function(output, pClass) {\n    this.output = output;\n    this.pClass = pClass;\n    this.seqid = 0;\n    this._reqs = {};\n};\nWaverbaseClient.prototype = {};\nWaverbaseClient.prototype.signUp = function(username, password, callback) {\n  this.seqid += 1;\n  this._reqs[this.seqid] = callback;\n  this.send_signUp(username, password);\n};\n\nWaverbaseClient.prototype.send_signUp = function(username, password) {\n  var output = new this.pClass(this.output);\n  output.writeMessageBegin('signUp', Thrift.MessageType.CALL, this.seqid);\n  var args = new Waverbase_signUp_args();\n  args.username = username;\n  args.password = password;\n  args.write(output);\n  output.writeMessageEnd();\n  return this.output.flush();\n};\n\nWaverbaseClient.prototype.recv_signUp = function(input,mtype,rseqid) {\n  var callback = this._reqs[rseqid] || function() {};\n  delete this._reqs[rseqid];\n  if (mtype == Thrift.MessageType.EXCEPTION) {\n    var x = new Thrift.TApplicationException();\n    x.read(input);\n    input.readMessageEnd();\n    return callback(x);\n  }\n  var result = new Waverbase_signUp_result();\n  result.read(input);\n  input.readMessageEnd();\n\n  if (null !== result.duplicateUsernameError) {\n    return callback(result.duplicateUsernameError);\n  }\n  if (null !== result.signUpValidationError) {\n    return callback(result.signUpValidationError);\n  }\n  if (null !== result.success) {\n    return callback(null, result.success);\n  }\n  return callback('signUp failed: unknown result');\n};\nWaverbaseClient.prototype.signIn = function(username, password, callback) {\n  this.seqid += 1;\n  this._reqs[this.seqid] = callback;\n  this.send_signIn(username, password);\n};\n\nWaverbaseClient.prototype.send_signIn = function(username, password) {\n  var output = new this.pClass(this.output);\n  output.writeMessageBegin('signIn', Thrift.MessageType.CALL, this.seqid);\n  var args = new Waverbase_signIn_args();\n  args.username = username;\n  args.password = password;\n  args.write(output);\n  output.writeMessageEnd();\n  return this.output.flush();\n};\n\nWaverbaseClient.prototype.recv_signIn = function(input,mtype,rseqid) {\n  var callback = this._reqs[rseqid] || function() {};\n  delete this._reqs[rseqid];\n  if (mtype == Thrift.MessageType.EXCEPTION) {\n    var x = new Thrift.TApplicationException();\n    x.read(input);\n    input.readMessageEnd();\n    return callback(x);\n  }\n  var result = new Waverbase_signIn_result();\n  result.read(input);\n  input.readMessageEnd();\n\n  if (null !== result.e) {\n    return callback(result.e);\n  }\n  if (null !== result.success) {\n    return callback(null, result.success);\n  }\n  return callback('signIn failed: unknown result');\n};\nWaverbaseProcessor = exports.Processor = function(handler) {\n  this._handler = handler\n}\nWaverbaseProcessor.prototype.process = function(input, output) {\n  var r = input.readMessageBegin();\n  if (this['process_' + r.fname]) {\n    return this['process_' + r.fname].call(this, r.rseqid, input, output);\n  } else {\n    input.skip(Thrift.Type.STRUCT);\n    input.readMessageEnd();\n    var x = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN_METHOD, 'Unknown function ' + r.fname);\n    output.writeMessageBegin(r.fname, Thrift.MessageType.Exception, r.rseqid);\n    x.write(output);\n    output.writeMessageEnd();\n    output.flush();\n  }\n}\n\nWaverbaseProcessor.prototype.process_signUp = function(seqid, input, output) {\n  var args = new Waverbase_signUp_args();\n  args.read(input);\n  input.readMessageEnd();\n  this._handler.signUp(args.username, args.password, function (err, result) {\n    var result = new Waverbase_signUp_result((err != null ? err : {success: result}));\n    output.writeMessageBegin(\"signUp\", Thrift.MessageType.REPLY, seqid);\n    result.write(output);\n    output.writeMessageEnd();\n    output.flush();\n  })\n}\n\nWaverbaseProcessor.prototype.process_signIn = function(seqid, input, output) {\n  var args = new Waverbase_signIn_args();\n  args.read(input);\n  input.readMessageEnd();\n  this._handler.signIn(args.username, args.password, function (err, result) {\n    var result = new Waverbase_signIn_result((err != null ? err : {success: result}));\n    output.writeMessageBegin(\"signIn\", Thrift.MessageType.REPLY, seqid);\n    result.write(output);\n    output.writeMessageEnd();\n    output.flush();\n  })\n}\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./gen-nodejs/Waverbase.js\n ** module id = 9\n ** module chunks = 0\n **/","//\n// Autogenerated by Thrift Compiler (0.9.1)\n//\n// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING\n//\nvar Thrift = require('thrift').Thrift;\n\nvar ttypes = module.exports = {};\nUser = module.exports.User = function(args) {\n  this.username = null;\n  if (args) {\n    if (args.username !== undefined) {\n      this.username = args.username;\n    }\n  }\n};\nUser.prototype = {};\nUser.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRING) {\n        this.username = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 0:\n        input.skip(ftype);\n        break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nUser.prototype.write = function(output) {\n  output.writeStructBegin('User');\n  if (this.username !== null && this.username !== undefined) {\n    output.writeFieldBegin('username', Thrift.Type.STRING, 1);\n    output.writeString(this.username);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nAuth = module.exports.Auth = function(args) {\n  this.user = null;\n  this.token = null;\n  if (args) {\n    if (args.user !== undefined) {\n      this.user = args.user;\n    }\n    if (args.token !== undefined) {\n      this.token = args.token;\n    }\n  }\n};\nAuth.prototype = {};\nAuth.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRUCT) {\n        this.user = new ttypes.User();\n        this.user.read(input);\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 2:\n      if (ftype == Thrift.Type.STRING) {\n        this.token = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nAuth.prototype.write = function(output) {\n  output.writeStructBegin('Auth');\n  if (this.user !== null && this.user !== undefined) {\n    output.writeFieldBegin('user', Thrift.Type.STRUCT, 1);\n    this.user.write(output);\n    output.writeFieldEnd();\n  }\n  if (this.token !== null && this.token !== undefined) {\n    output.writeFieldBegin('token', Thrift.Type.STRING, 2);\n    output.writeString(this.token);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nDuplicateUsernameError = module.exports.DuplicateUsernameError = function(args) {\n  Thrift.TException.call(this, \"DuplicateUsernameError\")\n  this.name = \"DuplicateUsernameError\"\n  this.errorMessage = null;\n  if (args) {\n    if (args.errorMessage !== undefined) {\n      this.errorMessage = args.errorMessage;\n    }\n  }\n};\nThrift.inherits(DuplicateUsernameError, Thrift.TException);\nDuplicateUsernameError.prototype.name = 'DuplicateUsernameError';\nDuplicateUsernameError.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRING) {\n        this.errorMessage = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 0:\n        input.skip(ftype);\n        break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nDuplicateUsernameError.prototype.write = function(output) {\n  output.writeStructBegin('DuplicateUsernameError');\n  if (this.errorMessage !== null && this.errorMessage !== undefined) {\n    output.writeFieldBegin('errorMessage', Thrift.Type.STRING, 1);\n    output.writeString(this.errorMessage);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nNotAuthorisedError = module.exports.NotAuthorisedError = function(args) {\n  Thrift.TException.call(this, \"NotAuthorisedError\")\n  this.name = \"NotAuthorisedError\"\n  this.errorMessage = null;\n  if (args) {\n    if (args.errorMessage !== undefined) {\n      this.errorMessage = args.errorMessage;\n    }\n  }\n};\nThrift.inherits(NotAuthorisedError, Thrift.TException);\nNotAuthorisedError.prototype.name = 'NotAuthorisedError';\nNotAuthorisedError.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRING) {\n        this.errorMessage = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 0:\n        input.skip(ftype);\n        break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nNotAuthorisedError.prototype.write = function(output) {\n  output.writeStructBegin('NotAuthorisedError');\n  if (this.errorMessage !== null && this.errorMessage !== undefined) {\n    output.writeFieldBegin('errorMessage', Thrift.Type.STRING, 1);\n    output.writeString(this.errorMessage);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nNotAuthenticatedError = module.exports.NotAuthenticatedError = function(args) {\n  Thrift.TException.call(this, \"NotAuthenticatedError\")\n  this.name = \"NotAuthenticatedError\"\n  this.errorMessage = null;\n  if (args) {\n    if (args.errorMessage !== undefined) {\n      this.errorMessage = args.errorMessage;\n    }\n  }\n};\nThrift.inherits(NotAuthenticatedError, Thrift.TException);\nNotAuthenticatedError.prototype.name = 'NotAuthenticatedError';\nNotAuthenticatedError.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRING) {\n        this.errorMessage = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 0:\n        input.skip(ftype);\n        break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nNotAuthenticatedError.prototype.write = function(output) {\n  output.writeStructBegin('NotAuthenticatedError');\n  if (this.errorMessage !== null && this.errorMessage !== undefined) {\n    output.writeFieldBegin('errorMessage', Thrift.Type.STRING, 1);\n    output.writeString(this.errorMessage);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\nSignUpValidationError = module.exports.SignUpValidationError = function(args) {\n  Thrift.TException.call(this, \"SignUpValidationError\")\n  this.name = \"SignUpValidationError\"\n  this.errorMessage = null;\n  if (args) {\n    if (args.errorMessage !== undefined) {\n      this.errorMessage = args.errorMessage;\n    }\n  }\n};\nThrift.inherits(SignUpValidationError, Thrift.TException);\nSignUpValidationError.prototype.name = 'SignUpValidationError';\nSignUpValidationError.prototype.read = function(input) {\n  input.readStructBegin();\n  while (true)\n  {\n    var ret = input.readFieldBegin();\n    var fname = ret.fname;\n    var ftype = ret.ftype;\n    var fid = ret.fid;\n    if (ftype == Thrift.Type.STOP) {\n      break;\n    }\n    switch (fid)\n    {\n      case 1:\n      if (ftype == Thrift.Type.STRING) {\n        this.errorMessage = input.readString();\n      } else {\n        input.skip(ftype);\n      }\n      break;\n      case 0:\n        input.skip(ftype);\n        break;\n      default:\n        input.skip(ftype);\n    }\n    input.readFieldEnd();\n  }\n  input.readStructEnd();\n  return;\n};\n\nSignUpValidationError.prototype.write = function(output) {\n  output.writeStructBegin('SignUpValidationError');\n  if (this.errorMessage !== null && this.errorMessage !== undefined) {\n    output.writeFieldBegin('errorMessage', Thrift.Type.STRING, 1);\n    output.writeString(this.errorMessage);\n    output.writeFieldEnd();\n  }\n  output.writeFieldStop();\n  output.writeStructEnd();\n  return;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./gen-nodejs/waverbase_types.js\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = require(\"es6-promisify\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"es6-promisify\"\n ** module id = 11\n ** module chunks = 0\n **/"],"sourceRoot":""}